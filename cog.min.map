{"version":3,"file":"cog.min.js","sources":["cog.js"],"names":["root","this","hasOwn","Object","prototype","hasOwnProperty","slice","Array","toString","cog","VERSION","extend","options","key","src","copy","copyIsArray","clone","target","arguments","i","n","length","deep","isFunction","isPlainObject","isArray","undefined","defaults","obj","call","forEach","source","type","isDate","isBoolean","isNumber","isObject","nodeType","isWindow","constructor","e","isRegExp","isString","window","initializing","fnTest","test","_inherit","base","fn","tmp","_super","ret","apply","_defineDirtyableProp","value","privateKey","defineProperty","get","set","oldValue","dirty","trigger","enumerable","configurable","_defaultProperties","dirtyable","writable","Construct","create","args","splice","Function","bind","destroy","fullName","staticProps","instanceProps","superPrototype","Constructor","init","dirtyOnChange","properties","defineProperties","setup","ArrayWrapper","arg","readOnly","data","serialize","add","push","insert","index","remove","indexOf","removeAtIndex","removeAll","removeLast","pop","each","callback","readyOnly","SetWrapper","readonly","removeKey","count","_mask","category","Entity","manager","_manager","id","_id","tag","_tag","valid","mask","_componentMask","parent","_parent","children","_children","_components","managed","component","Component","event","director","events","emit","has","inputMask","addChild","entity","removeChild","removeAllChildren","assertLimit","num","limit","msg","componentCount","_category","_entity","props","_listeners","prop","propName","on","handler","handlers","off","keys","systemCount","System","systemId","_systemId","configure","entityManager","eventManager","config","update","dt","render","Factory","entityTag","components","_entityManager","entities","_entities","self","spawn","componentOptions","despawn","EntityManager","_director","_entityId","all","withTag","withComponents","removeWithTag","removeWithComponents","_eventRegEx","EventManager","_eventContexts","_eventCallbacks","unregisterAll","eventName","contexts","callbacks","register","context","registerContext","substring","unregister","unregisterContext","unregisterEvent","SystemManager","_systems","_systemOrder","system","systems","lastTime","vendors","x","requestAnimationFrame","cancelAnimationFrame","element","currTime","Date","getTime","timeToCall","Math","max","setTimeout","clearTimeout","Director","_config","_eventManager","_systemManager","_beginUpdateCallback","_animationFrame","_lastFrame","stop","_endUpdateCallback","start","step","timestamp","lastFrame","_beginStepCallback","_endStepCallback","onBeginUpdate","onEndUpdate","onBeginStep","onEndStep","createDirector","define","amd"],"mappings":"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"}